# Qlib-UI ç›®å½•ç»“æ„è®¾ç½®å®Œæˆ âœ…

## ğŸ“… å®Œæˆæ—¶é—´
2025-11-04

## ğŸ“‹ è®¾ç½®æ¦‚è§ˆ

å·²æŒ‰ç…§åŠŸèƒ½æ¨¡å—åˆ’åˆ†æ–‡æ¡£å®Œæˆäº†å®Œæ•´çš„ä»£ç ç›®å½•å’Œæ–‡æ¡£ç›®å½•ç»“æ„æ­å»ºã€‚

## âœ… å®Œæˆçš„ä»»åŠ¡

### 1. åç«¯æ¨¡å—ç›®å½• (Backend Modules)

å·²åˆ›å»º 7 ä¸ªåç«¯åŠŸèƒ½æ¨¡å—,æ¯ä¸ªæ¨¡å—åŒ…å«:
- âœ… æ ‡å‡†ç›®å½•ç»“æ„(models, services, api, schemas, utils)
- âœ… Claude.md æ¨¡å—è¯´æ˜æ–‡æ¡£
- âœ… è¯¦ç»†çš„åŠŸèƒ½æè¿°ã€APIè®¾è®¡ã€æ•°æ®æ¨¡å‹

**åç«¯æ¨¡å—åˆ—è¡¨**:
1. âœ… `backend/app/modules/user_onboarding/` - ç”¨æˆ·å¼•å¯¼ä¸æ¨¡å¼ç®¡ç†
2. âœ… `backend/app/modules/data_management/` - æ•°æ®ç®¡ç†(å¯¼å…¥/é¢„å¤„ç†/å¯è§†åŒ–)
3. âœ… `backend/app/modules/strategy_builder/` - ç­–ç•¥æ„å»º(æ¨¡æ¿/æŒ‡æ ‡/ç¼–è¾‘å™¨/ä¼˜åŒ–)
4. âœ… `backend/app/modules/backtest_analysis/` - å›æµ‹åˆ†æ(æ‰§è¡Œ/ç»“æœ/è¯Šæ–­)
5. âœ… `backend/app/modules/task_scheduling/` - ä»»åŠ¡è°ƒåº¦ä¸ç³»ç»Ÿç®¡ç†
6. âœ… `backend/app/modules/code_security/` - ä»£ç æ‰§è¡Œå®‰å…¨
7. âœ… `backend/app/modules/common/` - å…¬å…±æ¨¡å—(åŸºç¡€è®¾æ–½)

### 2. å‰ç«¯æ¨¡å—ç›®å½• (Frontend Modules)

å·²åˆ›å»º 5 ä¸ªå‰ç«¯åŠŸèƒ½æ¨¡å—,æ¯ä¸ªæ¨¡å—åŒ…å«:
- âœ… æ ‡å‡†ç›®å½•ç»“æ„(components, hooks, store, api, types)
- âœ… Claude.md æ¨¡å—è¯´æ˜æ–‡æ¡£
- âœ… ç»„ä»¶ç¤ºä¾‹ã€Hookç¤ºä¾‹ã€çŠ¶æ€ç®¡ç†è®¾è®¡

**å‰ç«¯æ¨¡å—åˆ—è¡¨**:
1. âœ… `frontend/src/modules/user-onboarding/` - ç”¨æˆ·å¼•å¯¼UI
2. âœ… `frontend/src/modules/data-management/` - æ•°æ®ç®¡ç†UI
3. âœ… `frontend/src/modules/strategy-builder/` - ç­–ç•¥æ„å»ºUI
4. âœ… `frontend/src/modules/backtest-analysis/` - å›æµ‹åˆ†æUI
5. âœ… `frontend/src/modules/ui-interaction/` - UIäº¤äº’(å¸ƒå±€/è·¯ç”±/çŠ¶æ€)

### 3. æ ¸å¿ƒæ–‡æ¡£ (Core Documentation)

- âœ… [README.md](../README.md) - é¡¹ç›®ä¸»æ–‡æ¡£(åŠŸèƒ½ç‰¹æ€§ã€å¿«é€Ÿå¼€å§‹ã€æŠ€æœ¯æ ˆ)
- âœ… [FUNCTIONAL_MODULES.md](FUNCTIONAL_MODULES.md) - åŠŸèƒ½æ¨¡å—è¯¦ç»†åˆ’åˆ†
- âœ… [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) - é¡¹ç›®ç»“æ„è¯´æ˜
- âœ… [QLIB_UI_PRD.md](QLIB_UI_PRD.md) - äº§å“éœ€æ±‚æ–‡æ¡£

### 4. é…ç½®æ–‡ä»¶ (Configuration Files)

- âœ… `Makefile` - é¡¹ç›®ç®¡ç†å‘½ä»¤(100+è¡Œ,æ¶µç›–å¼€å‘/æµ‹è¯•/éƒ¨ç½²)
- âœ… `.env.example` - ç¯å¢ƒå˜é‡æ¨¡æ¿(å®Œæ•´é…ç½®è¯´æ˜)
- âœ… `.gitignore` - Gitå¿½ç•¥è§„åˆ™(å…¨é¢è¦†ç›–)

### 5. ç›®å½•ç»“æ„ (Directory Structure)

#### åç«¯ç›®å½•
```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ modules/              # âœ… 7ä¸ªåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ user_onboarding/
â”‚   â”‚   â”œâ”€â”€ data_management/
â”‚   â”‚   â”œâ”€â”€ strategy_builder/
â”‚   â”‚   â”œâ”€â”€ backtest_analysis/
â”‚   â”‚   â”œâ”€â”€ task_scheduling/
â”‚   â”‚   â”œâ”€â”€ code_security/
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”œâ”€â”€ main.py               # å¾…å®ç°
â”‚   â””â”€â”€ config.py             # å¾…å®ç°
â”œâ”€â”€ tests/                    # âœ… æµ‹è¯•ç›®å½•
â””â”€â”€ requirements.txt          # å¾…åˆ›å»º
```

#### å‰ç«¯ç›®å½•
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ modules/              # âœ… 5ä¸ªåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ user-onboarding/
â”‚   â”‚   â”œâ”€â”€ data-management/
â”‚   â”‚   â”œâ”€â”€ strategy-builder/
â”‚   â”‚   â”œâ”€â”€ backtest-analysis/
â”‚   â”‚   â””â”€â”€ ui-interaction/
â”‚   â”œâ”€â”€ components/           # âœ… å…±äº«ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ hooks/                # âœ… å…±äº«Hooksç›®å½•
â”‚   â”œâ”€â”€ utils/                # âœ… å·¥å…·å‡½æ•°ç›®å½•
â”‚   â”œâ”€â”€ types/                # âœ… TypeScriptç±»å‹ç›®å½•
â”‚   â”œâ”€â”€ styles/               # âœ… å…¨å±€æ ·å¼ç›®å½•
â”‚   â””â”€â”€ assets/               # âœ… èµ„æºæ–‡ä»¶ç›®å½•
â”œâ”€â”€ package.json              # å¾…åˆ›å»º
â”œâ”€â”€ tsconfig.json             # å¾…åˆ›å»º
â””â”€â”€ vite.config.ts            # å¾…åˆ›å»º
```

#### å…¶ä»–ç›®å½•
```
qlib-ui/
â”œâ”€â”€ tests/                    # âœ… æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ e2e/
â”‚   â””â”€â”€ integration/
â”œâ”€â”€ shared/                   # âœ… å‰åç«¯å…±äº«
â”‚   â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ utils/
â”‚   â””â”€â”€ constants/
â”œâ”€â”€ infrastructure/           # âœ… åŸºç¡€è®¾æ–½
â”‚   â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ k8s/
â”‚   â””â”€â”€ scripts/
â”œâ”€â”€ data/                     # âœ… æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ qlib/
â”‚   â”œâ”€â”€ uploads/
â”‚   â”œâ”€â”€ datasets/
â”‚   â””â”€â”€ examples/
â”œâ”€â”€ results/                  # âœ… ç»“æœç›®å½•
â”‚   â”œâ”€â”€ backtests/
â”‚   â””â”€â”€ optimizations/
â”œâ”€â”€ logs/                     # âœ… æ—¥å¿—ç›®å½•
â”‚   â”œâ”€â”€ backend/
â”‚   â””â”€â”€ celery/
â”œâ”€â”€ cache/                    # âœ… ç¼“å­˜ç›®å½•
â””â”€â”€ backups/                  # âœ… å¤‡ä»½ç›®å½•
```

## ğŸ“ æ¨¡å— Claude.md æ–‡æ¡£å†…å®¹

æ¯ä¸ªæ¨¡å—çš„ `Claude.md` æ–‡æ¡£éƒ½åŒ…å«:

1. **æ¨¡å—æ¦‚è¿°** - æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½å’ŒèŒè´£
2. **æ ¸å¿ƒèŒè´£** - è¯¦ç»†çš„åŠŸèƒ½ç‚¹åˆ—è¡¨
3. **ç›®å½•ç»“æ„** - æ¨¡å—å†…éƒ¨çš„æ ‡å‡†ç»“æ„
4. **æ ¸å¿ƒç»„ä»¶/åŠŸèƒ½** - ä¸»è¦ç»„ä»¶å’Œå‡½æ•°è¯´æ˜
5. **API ç«¯ç‚¹** (åç«¯) - RESTful APIè®¾è®¡
6. **æ•°æ®æ¨¡å‹** - Pydantic/TypeScriptç±»å‹å®šä¹‰
7. **æŠ€æœ¯è¦ç‚¹** - å…³é”®æŠ€æœ¯å®ç°ç»†èŠ‚
8. **ä¾èµ–å…³ç³»** - æ¨¡å—é—´çš„ä¾èµ–
9. **å¼€å‘ä¼˜å…ˆçº§** - Phase 1/2/3åˆ†ç±»
10. **æµ‹è¯•è¦ç‚¹** - æµ‹è¯•ç­–ç•¥å’Œé‡ç‚¹
11. **æ³¨æ„äº‹é¡¹** - å¼€å‘æ³¨æ„äº‹é¡¹

## ğŸ¯ ä¸‹ä¸€æ­¥å¼€å‘å»ºè®®

### Phase 1: MVPæ ¸å¿ƒé—­ç¯ (ä¼˜å…ˆå®ç°)

#### åç«¯ - é«˜ä¼˜å…ˆçº§
1. **åˆ›å»º FastAPI åº”ç”¨éª¨æ¶**
   ```bash
   cd backend
   touch app/main.py app/config.py app/__init__.py
   ```

2. **å®ç°æ¨¡å— 2.1: æ•°æ®å¯¼å…¥**
   - Qlibæ•°æ®æºé›†æˆ
   - æœ¬åœ°æ–‡ä»¶å¯¼å…¥(CSV/Excel)
   - æ•°æ®éªŒè¯å’Œé¢„è§ˆ

3. **å®ç°æ¨¡å— 3.1: ç­–ç•¥æ¨¡æ¿ç³»ç»Ÿ**
   - 3-5ä¸ªç»å…¸ç­–ç•¥æ¨¡æ¿
   - æ¨¡æ¿åŠ è½½å’Œç®¡ç†

4. **å®ç°æ¨¡å— 4.1-4.2: å›æµ‹é…ç½®å’Œæ‰§è¡Œ**
   - å›æµ‹é…ç½®ç®¡ç†
   - Qlibå›æµ‹å¼•æ“é›†æˆ
   - è¿›åº¦ç›‘æ§

#### å‰ç«¯ - é«˜ä¼˜å…ˆçº§
1. **åˆ›å»º React åº”ç”¨éª¨æ¶**
   ```bash
   cd frontend
   npm create vite@latest . -- --template react-ts
   ```

2. **å®ç° UI å¸ƒå±€ç³»ç»Ÿ**
   - é¡¶éƒ¨å¯¼èˆªæ 
   - å·¦ä¾§å·¥å…·æ 
   - ä¸­é—´å·¥ä½œåŒº
   - å³ä¾§å±æ€§é¢æ¿

3. **å®ç°æ•°æ®å¯¼å…¥ç•Œé¢**
   - æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
   - Qlibæ•°æ®é€‰æ‹©å™¨
   - æ•°æ®é¢„è§ˆè¡¨æ ¼

4. **å®ç°ç­–ç•¥æ¨¡æ¿é€‰æ‹©ç•Œé¢**
   - æ¨¡æ¿ç”»å»Š
   - æ¨¡æ¿è¯¦æƒ…å±•ç¤º

5. **å®ç°å›æµ‹ç»“æœå±•ç¤º**
   - æ ¸å¿ƒæŒ‡æ ‡è¡¨
   - å‡€å€¼æ›²çº¿å›¾(ECharts)
   - äº¤æ˜“æ˜ç»†è¡¨

### Phase 1 å¼€å‘æ£€æŸ¥æ¸…å•

#### åç«¯
- [ ] å®‰è£…ä¾èµ– (`requirements.txt`)
- [ ] é…ç½®æ•°æ®åº“è¿æ¥
- [ ] é…ç½®Redisè¿æ¥
- [ ] å®ç°åŸºç¡€è·¯ç”±ç»“æ„
- [ ] å®ç°æ•°æ®å¯¼å…¥API
- [ ] å®ç°å›æµ‹æ‰§è¡ŒAPI
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•(è¦†ç›–ç‡â‰¥80%)
- [ ] APIæ–‡æ¡£(Swagger)

#### å‰ç«¯
- [ ] å®‰è£…ä¾èµ– (`package.json`)
- [ ] é…ç½®Vite + TypeScript
- [ ] é…ç½®UIç»„ä»¶åº“(Ant Design)
- [ ] é…ç½®çŠ¶æ€ç®¡ç†(Zustand)
- [ ] é…ç½®è·¯ç”±(React Router)
- [ ] å®ç°åŸºç¡€å¸ƒå±€
- [ ] å®ç°æ•°æ®å¯¼å…¥é¡µé¢
- [ ] å®ç°å›æµ‹é¡µé¢
- [ ] ç¼–å†™ç»„ä»¶æµ‹è¯•

#### é›†æˆ
- [ ] å‰åç«¯APIå¯¹æ¥
- [ ] WebSocketå®æ—¶é€šä¿¡
- [ ] é”™è¯¯å¤„ç†ç»Ÿä¸€
- [ ] E2Eæµ‹è¯•(å…³é”®æµç¨‹)

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **æ€»ç›®å½•æ•°**: 70+
- **æ–‡æ¡£æ–‡ä»¶**: 15+
- **åç«¯æ¨¡å—**: 7ä¸ª
- **å‰ç«¯æ¨¡å—**: 5ä¸ª
- **é…ç½®æ–‡ä»¶**: 3ä¸ªæ ¸å¿ƒé…ç½®

## ğŸ› ï¸ å¯ç”¨å‘½ä»¤

é¡¹ç›®å·²é…ç½® Makefile,å¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤:

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# å®‰è£…ä¾èµ–
make install

# å¯åŠ¨æœåŠ¡
make start          # å¯åŠ¨å‰åç«¯
make start-all      # å¯åŠ¨å‰åç«¯+Celery

# è¿è¡Œæµ‹è¯•
make test           # æ‰€æœ‰æµ‹è¯•
make test-backend   # åç«¯æµ‹è¯•
make test-frontend  # å‰ç«¯æµ‹è¯•

# ä»£ç æ£€æŸ¥
make lint           # ä»£ç æ£€æŸ¥
make format         # ä»£ç æ ¼å¼åŒ–

# æ„å»º
make build          # æ„å»ºå‰åç«¯

# Docker
make docker-up      # å¯åŠ¨Dockerå®¹å™¨
make docker-down    # åœæ­¢Dockerå®¹å™¨
```

## ğŸ“š ç›¸å…³æ–‡æ¡£é“¾æ¥

- [é¡¹ç›®ä¸»æ–‡æ¡£ README](../README.md)
- [åŠŸèƒ½æ¨¡å—åˆ’åˆ†](FUNCTIONAL_MODULES.md)
- [é¡¹ç›®ç»“æ„è¯´æ˜](PROJECT_STRUCTURE.md)
- [äº§å“éœ€æ±‚æ–‡æ¡£](QLIB_UI_PRD.md)

### æ¨¡å—æ–‡æ¡£

**åç«¯æ¨¡å—**:
- [ç”¨æˆ·å¼•å¯¼](../backend/app/modules/user_onboarding/Claude.md)
- [æ•°æ®ç®¡ç†](../backend/app/modules/data_management/Claude.md)
- [ç­–ç•¥æ„å»º](../backend/app/modules/strategy_builder/Claude.md)
- [å›æµ‹åˆ†æ](../backend/app/modules/backtest_analysis/Claude.md)
- [ä»»åŠ¡è°ƒåº¦](../backend/app/modules/task_scheduling/Claude.md)
- [ä»£ç å®‰å…¨](../backend/app/modules/code_security/Claude.md)
- [å…¬å…±æ¨¡å—](../backend/app/modules/common/Claude.md)

**å‰ç«¯æ¨¡å—**:
- [ç”¨æˆ·å¼•å¯¼UI](../frontend/src/modules/user-onboarding/Claude.md)
- [æ•°æ®ç®¡ç†UI](../frontend/src/modules/data-management/Claude.md)
- [ç­–ç•¥æ„å»ºUI](../frontend/src/modules/strategy-builder/Claude.md)
- [å›æµ‹åˆ†æUI](../frontend/src/modules/backtest-analysis/Claude.md)
- [UIäº¤äº’](../frontend/src/modules/ui-interaction/Claude.md)

## âœ¨ ç›®å½•ç»“æ„ç‰¹ç‚¹

1. **æ¨¡å—åŒ–**: æ¸…æ™°çš„åŠŸèƒ½æ¨¡å—åˆ’åˆ†,ä½è€¦åˆé«˜å†…èš
2. **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„ç›®å½•ç»“æ„å’Œå‘½åè§„èŒƒ
3. **æ–‡æ¡£åŒ–**: æ¯ä¸ªæ¨¡å—éƒ½æœ‰è¯¦ç»†çš„ Claude.md è¯´æ˜
4. **å¯æ‰©å±•**: é¢„ç•™æ‰©å±•æ¥å£,æ”¯æŒæœªæ¥åŠŸèƒ½è¿­ä»£
5. **å·¥ç¨‹åŒ–**: å®Œå–„çš„é…ç½®æ–‡ä»¶å’Œæ„å»ºè„šæœ¬

## ğŸ‰ æ€»ç»“

âœ… **ç›®å½•ç»“æ„è®¾ç½®å·²å…¨éƒ¨å®Œæˆ!**

é¡¹ç›®ç°åœ¨æ‹¥æœ‰:
- æ¸…æ™°çš„æ¨¡å—åˆ’åˆ†
- å®Œå–„çš„æ–‡æ¡£ä½“ç³»
- æ ‡å‡†åŒ–çš„ç›®å½•ç»“æ„
- ä¾¿æ·çš„å¼€å‘å·¥å…·

å¯ä»¥å¼€å§‹ **Phase 1 MVP** çš„ä»£ç å®ç°å·¥ä½œäº†!

---

**Created by**: Claude Code
**Date**: 2025-11-04
**Version**: 1.0
