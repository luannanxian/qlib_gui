# Qlib-UI Backend Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control!

# ============================================
# Application Configuration
# ============================================
APP_NAME=Qlib-UI
APP_ENV=development  # development, staging, production
DEBUG=true

# ============================================
# Server Configuration
# ============================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000

# ============================================
# Database Configuration (MySQL/MariaDB)
# ============================================
# REQUIRED: Set your actual database credentials
# Format: mysql+aiomysql://username:password@host:port/database?charset=utf8mb4
# Example: DATABASE_URL=mysql+aiomysql://myuser:secureP@ssw0rd!@192.168.1.100:3306/qlib_ui?charset=utf8mb4
DATABASE_URL=mysql+aiomysql://remote:remote123456@192.168.3.46:3306/qlib_ui?charset=utf8mb4

# Database connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false
DATABASE_POOL_RECYCLE=3600
DATABASE_POOL_PRE_PING=true

# ============================================
# Security Configuration
# ============================================
# REQUIRED: Generate a strong secret key for JWT signing
# Generate using: python -c 'import secrets; print(secrets.token_urlsafe(64))'
# Minimum 32 characters, 64+ recommended for production
SECRET_KEY=REPLACE_WITH_STRONG_SECRET_KEY_AT_LEAST_32_CHARS_LONG

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================
# Redis Configuration
# ============================================
REDIS_URL=redis://localhost:6379/0

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================
# Qlib Configuration
# ============================================
QLIB_DATA_DIR=./data/qlib
QLIB_REGION=cn

# ============================================
# File Storage Configuration
# ============================================
DATA_DIR=./data
UPLOAD_DIR=./data/uploads
RESULT_DIR=./results
LOG_DIR=./logs
CACHE_DIR=./cache

MAX_UPLOAD_SIZE_MB=100

# ============================================
# Task Scheduling Configuration
# ============================================
MAX_PARALLEL_TASKS=2
TASK_TIMEOUT_SECONDS=3600

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
LOG_ROTATION_SIZE=100 MB
LOG_RETENTION_DAYS=30
LOG_COMPRESSION=zip

# Log request/response bodies (disable in production for performance)
LOG_REQUEST_BODY=true
LOG_RESPONSE_BODY=false

# Performance thresholds for logging
SLOW_QUERY_THRESHOLD_MS=100.0
SLOW_REQUEST_THRESHOLD_MS=1000.0
