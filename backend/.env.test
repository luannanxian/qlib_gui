# ============================================
# Test Environment Configuration
# ============================================
# This file contains configuration for running tests
# Copy to .env.test and customize for your local setup

# ============================================
# Test Database Configuration
# ============================================
# Use SQLite for fast local testing (default)
# DATABASE_URL_TEST=sqlite+aiosqlite:///:memory:

# Use MySQL for integration testing (closer to production)
# Format: mysql+aiomysql://username:password@host:port/database?charset=utf8mb4
DATABASE_URL_TEST=mysql+aiomysql://test_user:test_password@localhost:3307/qlib_ui_test?charset=utf8mb4

# Database type for conditional test logic
# Options: sqlite, mysql
TEST_DB_TYPE=mysql

# MySQL Test Database Connection Pool Settings
# For tests, we use smaller pool sizes to avoid connection overhead
TEST_DB_POOL_SIZE=5
TEST_DB_MAX_OVERFLOW=5
TEST_DB_POOL_RECYCLE=1800
TEST_DB_POOL_PRE_PING=true
TEST_DB_ECHO=false

# ============================================
# Test Execution Settings
# ============================================
# Set to true to keep test database after tests (for debugging)
TEST_DB_KEEP_ALIVE=false

# Set to true to print SQL queries during tests (for debugging)
TEST_DB_ECHO_SQL=false

# Pytest settings
PYTEST_TIMEOUT=300
PYTEST_WORKERS=auto
